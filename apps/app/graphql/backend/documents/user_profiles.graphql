fragment DBUserProfileFields on userProfiles {
  sync_updates_frequency: syncUpdatesFrequency
  is_subscribed_sync_updates: isSubscribedSyncUpdates
  is_subscribed_general: isSubscribedGeneral
  timezone
  user_id: userId
  sync_updates_job_id: syncUpdatesJobId
  stripe_customer_id: stripeCustomerId
}

fragment AllUserProfileFields on userProfiles {
  userId
  timezone
  isSubscribedGeneral
  isSubscribedSyncUpdates
  syncUpdatesFrequency
  syncUpdatesJobId
}

query GetUserProfile($userId: uuid!) {
  userProfile(userId: $userId) {
    ...AllUserProfileFields
  }
}

mutation InsertUserProfile($userProfile: userProfiles_insert_input!) {
  userProfile: insertUserProfile(
    object: $userProfile,
    on_conflict: { constraint: user_profiles_user_id_key, update_columns: [userId]}
  ) {
    ...AllUserProfileFields
  }
}

mutation UpdateUserProfile($userId: uuid!, $_set: userProfiles_set_input!) {
  userProfile: updateUserProfile(pk_columns: { userId: $userId }, _set: $_set ) {
    ...AllUserProfileFields
  }
}