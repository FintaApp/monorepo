fragment AllFrontendUserFields on users {
  __typename
  id
  displayName,
  email,
  createdAt
  profile {
    stripeData {
      customer {
        id
        createdAt
      }
      trialEndsAt
      hasAppAccess
      subscription {
        id
        status
        cancelAtPeriodEnd
        trialStartedAt
        trialEndedAt
        startedAt
        endedAt
        currentPeriodStart
        currentPeriodEnd
        interval
        canceledAt
      }
    }
  }
  metadata
}

mutation UpdateUser($id: uuid!, $_set: users_set_input = {}, $_delete_key: users_delete_key_input = {}) {
  user: updateUser(pk_columns: {id: $id}, _set: $_set, _delete_key: $_delete_key) {
    ...AllFrontendUserFields
  }
}

fragment AllFrontendUserProfileFields on userProfiles {
  __typename
  userId
  timezone
  isSubscribedGeneral
  isSubscribedSyncUpdates
  syncUpdatesFrequency
}

query GetUserProfile($userId: uuid!) {
  userProfile(userId: $userId) {
    ...AllFrontendUserProfileFields
  }
}

mutation UpdateUserProfile($userId: uuid!, $_set: userProfiles_set_input!) {
  updateUserProfile(pk_columns: { userId: $userId }, _set: $_set) {
    ...AllFrontendUserProfileFields
  }
}